!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.fibrelite=n()}(this,function(){return function(e){var n,t=this,o=function(e){t.cachedFn||(t.cachedFn="onmessage=("+function(e){return function(n){Promise.resolve(n.data[1]).then(e.apply.bind(e,e)).then(function(e){postMessage([n.data[0],0,e])},function(e){postMessage([e.data[0],1,""+e])})}}+")("+e+")");var n=new Worker(URL.createObjectURL(new Blob([t.cachedFn]))),o=0,r={};return n.onmessage=function(e){r[e.data[0]][e.data[1]](e.data[2]),r[e.data[0]]=null},{worker:n,fn:function(e){return e=[].slice.call(arguments),new Promise(function(){r[++o]=arguments,n.postMessage([o,e])})}}};this.prioritiseExecute=function(r){return new Promise(function(t,i){return void 0===n?t((n=o(e)).fn(r)):(new Promise(function(e){e(n.worker.terminate())}),t((n=o(e)).fn(r)))}.bind(t))},this.execute=function(r){return new Promise(function(t,i){return t(void 0===n?(n=o(e)).fn(r):n.fn(r))}.bind(t))},this.getCurrentWorker=function(){return n.worker}}});
//# sourceMappingURL=fibrelite.umd.js.map
