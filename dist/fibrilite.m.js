export default function(n){var e,t=this,r=function(n){t.cachedFn||(t.cachedFn="onmessage=("+function(n){return function(e){Promise.resolve(e.data[1]).then(n.apply.bind(n,n)).then(function(n){postMessage([e.data[0],0,n])},function(n){postMessage([n.data[0],1,""+n])})}}+")("+n+")");var e=new Worker(URL.createObjectURL(new Blob([t.cachedFn]))),r=0,o={};return e.onmessage=function(n){o[n.data[0]][n.data[1]](n.data[2]),o[n.data[0]]=null},{worker:e,fn:function(n){return n=[].slice.call(arguments),new Promise(function(){o[++r]=arguments,e.postMessage([r,n])})}}};this.prioritiseExecute=function(o){return new Promise(function(t,i){return void 0===e?t((e=r(n)).fn(o)):(new Promise(function(n){n(e.worker.terminate())}),t((e=r(n)).fn(o)))}.bind(t))},this.execute=function(o){return new Promise(function(t,i){return t(void 0===e?(e=r(n)).fn(o):e.fn(o))}.bind(t))},this.getCurrentWorker=function(){return e.worker}};
//# sourceMappingURL=fibrilite.m.js.map
